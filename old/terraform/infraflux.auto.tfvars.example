# Proxmox API (token-based)
pm_api_url      = "https://pve:8006/api2/json"
pm_user         = "root@pam"
pm_token_id     = "root@pam!terraform"
pm_token_secret = "****"
pm_tls_insecure = true

# --- Proxmox placement ---
pve_node        = "pve"
iso_storage     = "local"        # ISO store
vm_disk_storage = "bigdisk"      # VM disks
bridge          = "vmbr0"

# Cluster identity
cluster_name     = "infraflux"
talos_version    = "v1.7.5"
schematic_id     = "<SCHEMATIC_ID_FROM_IMAGE_FACTORY>"
controlplane_vip = "10.0.1.50"

# --- Counts & sizing ---
controlplane_count = 3
controlplane_vcpus   = 2
controlplane_mem_mb  = 8192
controlplane_disk_gb = 60

worker_count    = 9
worker_vcpus    = 4
worker_mem_mb        = 16384
worker_os_disk_gb    = 100
worker_data_disk_gb  = 200

# --- Network (DHCP per your choice) ---
use_dhcp = true
pod_cidr = "10.244.0.0/16"   # Cilium default works; override if needed
svc_cidr = "10.96.0.0/12"

# Networking
use_dhcp  = true
pod_cidr  = "10.244.0.0/16"
svc_cidr  = "10.96.0.0/12"
mtu       = 1500

# Domains
base_domain     = "binghzal.com"
argocd_hostname = "argocd.binghzal.com"

# --- Cilium ---
lb_ip_pool_start = "10.0.15.100"
lb_ip_pool_end   = "10.0.15.250"
enable_wireguard = true
cilium_version   = "1.18.0"

# Authentik
oidc_issuer_url = "https://auth.binghzal.com/application/o/argocd/"
oidc_client_id  = "argocd"
# Client secret is sourced from env or 1Password later; not stored here

cloudflare_zone = "binghzal.com"

# 1Password SDK (ESO)
op_org_url = "https://YOUR-ORG.1password.com"
op_vaults  = ["infraflux-prod"]

# MinIO
minio_endpoint = "http://10.0.0.49:9000"

# Labels
org_prefix = "infraflux"
