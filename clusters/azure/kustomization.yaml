apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - ../templates/base-cluster.yaml
  - ../templates/talos-control-plane.yaml
  - ../templates/talos-machine-template-controlplane.yaml
  - ../templates/talos-machine-template-worker.yaml
configMapGenerator:
  - name: azure-values
    literals:
      - INFRA_CLUSTER_KIND=AzureCluster
      - INFRA_MACHINE_TEMPLATE_KIND=AzureMachineTemplate
      - PROVIDER_SPEC_CP="Standard_DS2_v2"
      - PROVIDER_SPEC_WORKER="Standard_DS2_v2"
      - REGION=us-east-1
      - K8S_MINOR=1.30
      - TALOS_VERSION=v1.7.5
      - CP_COUNT=3
      - WORKER_COUNT=2
      - CLUSTER_NAME=infraflux-azure
      - NAMESPACE=default
generatorOptions:
  disableNameSuffixHash: true
